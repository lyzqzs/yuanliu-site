<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Not Really Pictures — Yuan Liu</title>

  <link rel="stylesheet" href="../../styles.css" />
</head>

<body class="page-work">

  <nav class="top-nav">
    <a href="../../index.html">home</a>
  </nav>

  <main class="work-wrap">
    <figure class="work-figure">
      <img
        id="projectImage"
        class="work-img"
        src="not-really-01.JPG"
        alt="Not Really Pictures"
      />
    </figure>

    <figcaption class="work-caption">
      <div class="work-title">Chasing Pigeons</div>
      <div class="work-meta">Denison Museum, 2022</div>
    </figcaption>
  </main>

  <script>
    // ✅ 这里填你文件夹里的图片文件名（大小写要完全一致）
    const images = [
      "not-really-01.JPG",
      "not-really-02.JPG",
      "not-really-03.JPG",
      "not-really-04.JPG",
      "not-really-05.JPG",
      "not-really-06.JPG",
      "not-really-07.JPG"
      // "not-really-02.JPG",
      // "not-really-03.JPG",
    ];

    let index = 0;
    const imgEl = document.getElementById("projectImage");

    function show(i) {
      index = (i + images.length) % images.length;
      const nextSrc = images[index];

      // 预加载，避免切换瞬间空白/闪烁
      const pre = new Image();
      pre.onload = () => { imgEl.src = nextSrc; };
      pre.onerror = () => {
        console.error("Image failed to load:", nextSrc);
      };
      pre.src = nextSrc;
    }

    function next() { show(index + 1); }
    function prev() { show(index - 1); }

    // 点击图片切下一张
    imgEl.addEventListener("click", () => {
      if (images.length > 1) next();
    });

    // 左右键切换
    window.addEventListener("keydown", (e) => {
      if (images.length <= 1) return;
      if (e.key === "ArrowRight") next();
      if (e.key === "ArrowLeft") prev();
    });

    // 初始对齐：如果你把第一张不是 01，也能正确显示
    show(0);
  </script>

</body>
</html>
